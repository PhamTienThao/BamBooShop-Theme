<div class="send-request">
    <button nz-button nzType="primary" [disabled]="setOfCheckedId.size === 0" [nzLoading]="loading" nzDanger
        (click)="deleteList()">
        Xóa mục đã chọn
    </button>
    <span>Đã chọn {{ setOfCheckedId.size }}</span>
</div>
<nz-table #rowSelectionTable nzShowPagination nzShowSizeChanger [nzData]="listOfData"  nzTableLayout="fixed" [nzSize]="tableSize"
    (nzCurrentPageDataChange)="onCurrentPageDataChange($event)" [nzScroll]="{ x: '80vh', y: '45vh' }">
    <thead>
        <tr>
            <th *ngIf="multiColSelect" [nzChecked]="checked" [nzIndeterminate]="indeterminate" class="text-center"  
                width="40px" (nzCheckedChange)="onAllChecked($event)"></th>
            <th *ngFor="let item of columnsTable" width="{{item.width}}" [(nzSortOrder)]="item.sortOrder" class="text-center"
                [nzSortFn]="item.sortFn" [nzFilters]="item.listOfFilter" [nzFilterFn]="item.filterFn"> {{item.name}}
            </th>
            <th class="text-center" > Hành động </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of  rowSelectionTable.data" >
            <td *ngIf="multiColSelect" [nzChecked]="setOfCheckedId.has(data.Id)" [nzDisabled]="data.disabled"
                (nzCheckedChange)="onItemChecked(data.Id, $event)" ></td>
            <td *ngFor="let item of columnsTable" class="text-center">
                <div *ngIf=" item.type == 'image'; else notImage">
                    <img *ngIf="item.prop == 'ImageCloudLink'; else notCloudImg" [src]="data.ImageCloudLink | sharePipeHostImage" alt="" class="img-product">
                    <ng-template #notCloudImg>
                        <img [src]="data.Image | sharePipeHostImage" alt="" class="img-product">
                    </ng-template>
                </div>
                <ng-template #notImage>
                    {{item._subprop == null? data?.[item.prop] : data?.[item.prop]?.[item._subprop]}}
                </ng-template>
            </td>
            <td class="text-center">
                <button class="m-r-5" (click)="showDetail(data)" nz-button nzType="default" nzShape="circle" nz-tooltip nzTooltipTitle="Edit">
                  <i nz-icon nzType="edit" theme="outline"></i>
                </button>
                <button nz-button nz-popconfirm nzPopconfirmTitle="Xác nhận xóa?" (nzOnConfirm)="onClickDelete(data)" nzPopconfirmPlacement="topRight"
                  nzType="default" nzDanger nzShape="circle" nz-tooltip nzTooltipTitle="Delete">
                  <i nz-icon nzType="delete" theme="outline"></i>
                </button>
              </td>
        </tr>
    </tbody>
</nz-table>
